var Ke=Object.defineProperty;var Ve=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>Ve(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function re(){}function Te(e){return e()}function ye(){return Object.create(null)}function V(e){e.forEach(Te)}function Oe(e){return typeof e=="function"}function Qe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ue(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function I(e,t,n){e.insertBefore(t,n||null)}function H(e){e.parentNode&&e.parentNode.removeChild(e)}function be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function R(){return G(" ")}function We(){return G("")}function K(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function fe(e){return function(t){return t.preventDefault(),e.call(this,t)}}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ze(e){return Array.from(e.childNodes)}function q(e,t){t=""+t,e.data!==t&&(e.data=t)}function z(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let se;function le(e){se=e}function $e(){if(!se)throw new Error("Function called outside component initialization");return se}function et(e){$e().$$.on_mount.push(e)}const ee=[],ke=[];let ne=[];const we=[],Ye=Promise.resolve();let pe=!1;function Fe(){pe||(pe=!0,Ye.then(Re))}function ve(){return Fe(),Ye}function ge(e){ne.push(e)}const me=new Set;let $=0;function Re(){if($!==0)return;const e=se;do{try{for(;$<ee.length;){const t=ee[$];$++,le(t),tt(t.$$)}}catch(t){throw ee.length=0,$=0,t}for(le(null),ee.length=0,$=0;ke.length;)ke.pop()();for(let t=0;t<ne.length;t+=1){const n=ne[t];me.has(n)||(me.add(n),n())}ne.length=0}while(ee.length);for(;we.length;)we.pop()();pe=!1,me.clear(),le(e)}function tt(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ge)}}function nt(e){const t=[],n=[];ne.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),ne=t}const ot=new Set;function ze(e,t){e&&e.i&&(ot.delete(e),e.i(t))}function te(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function it(e,t){e.d(1),t.delete(e.key)}function lt(e,t,n,l,o,i,a,r,c,s,d,h){let p=e.length,w=i.length,y=p;const S={};for(;y--;)S[e[y].key]=y;const A=[],E=new Map,W=new Map,b=[];for(y=w;y--;){const g=h(o,i,y),x=n(g);let P=a.get(x);P?b.push(()=>P.p(g,t)):(P=s(x,g),P.c()),E.set(x,A[y]=P),x in S&&W.set(x,Math.abs(y-S[x]))}const j=new Set,N=new Set;function X(g){ze(g,1),g.m(r,d),a.set(g.key,g),d=g.first,w--}for(;p&&w;){const g=A[w-1],x=e[p-1],P=g.key,F=x.key;g===x?(d=g.first,p--,w--):E.has(F)?!a.has(P)||j.has(P)?X(g):N.has(F)?p--:W.get(P)>W.get(F)?(N.add(P),X(g)):(j.add(F),p--):(c(x,a),p--)}for(;p--;){const g=e[p];E.has(g.key)||c(g,a)}for(;w;)X(A[w-1]);return V(b),A}function rt(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),ge(()=>{const i=e.$$.on_mount.map(Te).filter(Oe);e.$$.on_destroy?e.$$.on_destroy.push(...i):V(i),e.$$.on_mount=[]}),o.forEach(ge)}function st(e,t){const n=e.$$;n.fragment!==null&&(nt(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function at(e,t){e.$$.dirty[0]===-1&&(ee.push(e),Fe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ct(e,t,n,l,o,i,a=null,r=[-1]){const c=se;le(e);const s=e.$$={fragment:null,ctx:[],props:i,update:re,not_equal:o,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ye(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};a&&a(s.root);let d=!1;if(s.ctx=n?n(e,t.props||{},(h,p,...w)=>{const y=w.length?w[0]:p;return s.ctx&&o(s.ctx[h],s.ctx[h]=y)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](y),d&&at(e,h)),p}):[],s.update(),d=!0,V(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const h=Ze(t.target);s.fragment&&s.fragment.l(h),h.forEach(H)}else s.fragment&&s.fragment.c();t.intro&&ze(e.$$.fragment),rt(e,t.target,t.anchor),Re()}le(c)}class ft{constructor(){de(this,"$$");de(this,"$$set")}$destroy(){st(this,1),this.$destroy=re}$on(t,n){if(!Oe(n))return re;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Ue(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ut="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ut);const Me=["Adrian","Aiden","Ainsley","Alex","Ali","Andy","Ang","Arden","Ari","Ashley","Avery","Axel","Basil","Bailey","Bellamy","Birch","Blake","Briar","Bradlee","Cameron","Casey","Cedar","Charlie","Devon","Drew","Eden","Ellis","Emerson","Emery","Finley","Franc","Gio","Gray","Harper","Hong","Indigo","Ira","Jesse","Jo","Jordaan","Jordan","Jules","Kai","Kendall","Lane","Leaf","Leith","Lennon","Logan","Luca","Mal","Marlow","Mo","Monroe","Morgan","Oakley","Ollie","Paris","Pat","Parker","Philly","Phoenix","Quinn","Reese","Remy","Rich","Ridley","Riley","River","Robin","Rocky","Rory","Sage","Sal","Sammy","Scout","Shannon","Sawyer","Skyler","Terry","Terri","Taylor","Tippy","Toby","Wei","Winter","Yara","Yan","Ying","Yuki","Yun","Zuri"],Se=["Affagato","Afterdinner","Badminton","Banquette","Bassoon","Beaverton","Beryl","Blancmange","Bouquet","Bracken","Bramble","Breeze","Broadbean","Caper","Cinder","Childsplay","Clover","Cobble","ConsommÃ©","Cookie","Croissant","Crossbow","Crispin","Cricket","DiamantÃ©","Drift","Elefantine","Ember","Fable","Fennel","Fingertip","Flounder","Flatbread","Foxglove","Foothold","Frost","Gable","Goldleaf","Gorgon","Greenhouse","Hearth","Hollow","Hotdog","Hopper","Juniper","Keyboard","Latch","Lantern","Legume","Marble","Meringue","Meadow","Moss","Paddle","Petal","Pine","President","Quill","Rook","Rowboat","Salmon","Sable","Sandal","Sneaker","Spatula","Stuffed-Crust","Sugar-Glider","Sweetdream","Thistle","Tobermory","Tinsel","Trolley","Trumpet","Trove","Turtle","Velour","Waffle","Willow","Wren","Whistle"],he="/whereis/assets/win.mp3";function Pe(e,t,n){const l=e.slice();return l[34]=t[n],l}function je(e,t,n){const l=e.slice();return l[37]=t[n],l[39]=n,l}function Ae(e,t,n){const l=e.slice();return l[40]=t[n],l}function Ee(e){let t,n,l,o,i,a,r,c,s,d,h,p,w,y=e[3].emoji+"",S,A,E,W,b;return{c(){t=k("div"),n=k("div"),l=k("div"),o=k("h1"),i=k("span"),i.textContent="Where is",a=k("br"),r=k("span"),c=G(e[0]),s=R(),d=G(e[1]),h=G("?"),p=R(),w=k("div"),S=G(y),A=R(),E=k("button"),E.textContent="Search",m(i,"class","highlight svelte-kb8k51"),m(r,"class","name svelte-kb8k51"),m(o,"class","svelte-kb8k51"),m(l,"class","text-container svelte-kb8k51"),m(w,"class","emoji svelte-kb8k51"),m(E,"class","svelte-kb8k51"),m(n,"class","splash-screen svelte-kb8k51"),m(t,"class","container svelte-kb8k51")},m(j,N){I(j,t,N),f(t,n),f(n,l),f(l,o),f(o,i),f(o,a),f(o,r),f(r,c),f(r,s),f(r,d),f(o,h),f(n,p),f(n,w),f(w,S),f(n,A),f(n,E),W||(b=K(E,"click",e[10]),W=!0)},p(j,N){N[0]&1&&q(c,j[0]),N[0]&2&&q(d,j[1]),N[0]&8&&y!==(y=j[3].emoji+"")&&q(S,y)},d(j){j&&H(t),W=!1,b()}}}function Ce(e){let t,n,l,o,i=e[7]&&Ne(e);return{c(){t=k("div"),n=k("div"),i&&i.c(),m(n,"class","game-screen svelte-kb8k51"),m(t,"class","container svelte-kb8k51")},m(a,r){I(a,t,r),f(t,n),i&&i.m(n,null),l||(o=[K(n,"touchmove",fe(gt)),K(n,"touchstart",fe(_t)),K(n,"touchend",fe(yt))],l=!0)},p(a,r){a[7]?i?i.p(a,r):(i=Ne(a),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},d(a){a&&H(t),i&&i.d(),l=!1,V(o)}}}function Ne(e){let t,n,l=te(e[5]),o=[];for(let r=0;r<l.length;r+=1)o[r]=xe(Ae(e,l,r));let i=te(e[6]),a=[];for(let r=0;r<i.length;r+=1)a[r]=Be(je(e,i,r));return{c(){for(let r=0;r<o.length;r+=1)o[r].c();t=R();for(let r=0;r<a.length;r+=1)a[r].c();n=We()},m(r,c){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(r,c);I(r,t,c);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(r,c);I(r,n,c)},p(r,c){if(c[0]&32){l=te(r[5]);let s;for(s=0;s<l.length;s+=1){const d=Ae(r,l,s);o[s]?o[s].p(d,c):(o[s]=xe(d),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}if(c[0]&4160){i=te(r[6]);let s;for(s=0;s<i.length;s+=1){const d=je(r,i,s);a[s]?a[s].p(d,c):(a[s]=Be(d),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length}},d(r){r&&(H(t),H(n)),be(o,r),be(a,r)}}}function xe(e){let t,n=e[40].emoji+"",l;return{c(){t=k("div"),l=G(n),m(t,"class","background-emoji svelte-kb8k51"),z(t,"top",e[40].y+"%"),z(t,"left",e[40].x+"%"),m(t,"role","img"),m(t,"aria-hidden","true")},m(o,i){I(o,t,i),f(t,l)},p(o,i){i[0]&32&&n!==(n=o[40].emoji+"")&&q(l,n),i[0]&32&&z(t,"top",o[40].y+"%"),i[0]&32&&z(t,"left",o[40].x+"%")},d(o){o&&H(t)}}}function Be(e){let t,n=e[37].emoji+"",l,o,i,a,r;function c(){return e[14](e[37])}function s(){return e[15](e[37])}return{c(){t=k("button"),l=G(n),o=R(),m(t,"class","person-emoji svelte-kb8k51"),z(t,"top",e[37].y+"%"),z(t,"left",e[37].x+"%"),m(t,"title",`Person ${e[39]+1}`),m(t,"aria-label",i=`Person ${e[39]+1}: ${e[37].emoji}`)},m(d,h){I(d,t,h),f(t,l),f(t,o),a||(r=[K(t,"click",c),K(t,"pointerdown",fe(s))],a=!0)},p(d,h){e=d,h[0]&64&&n!==(n=e[37].emoji+"")&&q(l,n),h[0]&64&&z(t,"top",e[37].y+"%"),h[0]&64&&z(t,"left",e[37].x+"%"),h[0]&64&&i!==(i=`Person ${e[39]+1}: ${e[37].emoji}`)&&m(t,"aria-label",i)},d(d){d&&H(t),a=!1,V(r)}}}function Le(e){let t,n,l,o,i,a,r,c,s,d,h,p,w,y,S,A=e[3].emoji+"",E,W,b=[],j=new Map,N,X,g,x,P,F,oe,U=te(e[8]);const Z=v=>v[34].id;for(let v=0;v<U.length;v+=1){let C=Pe(e,U,v),D=Z(C);j.set(D,b[v]=Ge(D,C))}return{c(){t=k("div"),n=k("div"),l=k("div"),o=k("h1"),i=k("span"),i.textContent="Congratulations!",a=k("br"),r=G("You found"),c=k("br"),s=k("span"),d=G(e[0]),h=R(),p=G(e[1]),w=G("!"),y=R(),S=k("div"),E=G(A),W=R();for(let v=0;v<b.length;v+=1)b[v].c();N=R(),X=k("div"),g=G(e[9]),x=R(),P=k("button"),P.textContent="New Game",m(i,"class","highlight svelte-kb8k51"),m(s,"class","name svelte-kb8k51"),m(o,"class","svelte-kb8k51"),m(l,"class","text-container svelte-kb8k51"),m(S,"class","emoji svelte-kb8k51"),m(S,"role","button"),m(S,"tabindex","0"),m(S,"title","Tap to frisk"),m(X,"class","sr-only svelte-kb8k51"),m(X,"aria-live","polite"),m(P,"class","new-game-btn svelte-kb8k51"),m(n,"class","win-screen svelte-kb8k51"),m(t,"class","container svelte-kb8k51")},m(v,C){I(v,t,C),f(t,n),f(n,l),f(l,o),f(o,i),f(o,a),f(o,r),f(o,c),f(o,s),f(s,d),f(s,h),f(s,p),f(o,w),f(n,y),f(n,S),f(S,E),f(n,W);for(let D=0;D<b.length;D+=1)b[D]&&b[D].m(n,null);f(n,N),f(n,X),f(X,g),f(n,x),f(n,P),F||(oe=[K(S,"click",e[13]),K(S,"keydown",e[16]),K(P,"click",e[11])],F=!0)},p(v,C){C[0]&1&&q(d,v[0]),C[0]&2&&q(p,v[1]),C[0]&8&&A!==(A=v[3].emoji+"")&&q(E,A),C[0]&256&&(U=te(v[8]),b=lt(b,C,Z,1,v,U,j,n,it,Ge,N,Pe)),C[0]&512&&q(g,v[9])},d(v){v&&H(t);for(let C=0;C<b.length;C+=1)b[C].d();F=!1,V(oe)}}}function Ge(e,t){let n,l=t[34].emoji+"",o;return{key:e,first:null,c(){n=k("div"),o=G(l),m(n,"class","weapon-emoji svelte-kb8k51"),z(n,"left",t[34].x+"%"),z(n,"top",t[34].y+"%"),m(n,"aria-hidden","true"),this.first=n},m(i,a){I(i,n,a),f(n,o)},p(i,a){t=i,a[0]&256&&l!==(l=t[34].emoji+"")&&q(o,l),a[0]&256&&z(n,"left",t[34].x+"%"),a[0]&256&&z(n,"top",t[34].y+"%")},d(i){i&&H(n)}}}function dt(e){let t,n,l,o=!e[4]&&Ee(e),i=e[4]&&!e[2]&&Ce(e),a=e[2]&&Le(e);return{c(){o&&o.c(),t=R(),i&&i.c(),n=R(),a&&a.c(),l=We()},m(r,c){o&&o.m(r,c),I(r,t,c),i&&i.m(r,c),I(r,n,c),a&&a.m(r,c),I(r,l,c)},p(r,c){r[4]?o&&(o.d(1),o=null):o?o.p(r,c):(o=Ee(r),o.c(),o.m(t.parentNode,t)),r[4]&&!r[2]?i?i.p(r,c):(i=Ce(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),r[2]?a?a.p(r,c):(a=Le(r),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i:re,o:re,d(r){r&&(H(t),H(n),H(l)),o&&o.d(r),i&&i.d(r),a&&a.d(r)}}}function mt(e){if(!e||e.length===0)return{minX:0,maxX:0,minY:0,maxY:0};const t=e.map(n=>({x:Number(n.x)||0,y:Number(n.y)||0}));return{minX:Math.min(...t.map(n=>n.x)),maxX:Math.max(...t.map(n=>n.x)),minY:Math.min(...t.map(n=>n.y)),maxY:Math.max(...t.map(n=>n.y))}}function ht(e,t){const n=[...e,...t],l=mt(n),o=100-(l.maxX-l.minX),i=100-(l.maxY-l.minY),a=o/4,r=i/4;return(o>10||i>10)&&(e.forEach(c=>{c.x=Math.min(Math.max(c.x+a,5),95),c.y=Math.min(Math.max(c.y+r,5),95)}),t.forEach(c=>{c.x=Math.min(Math.max(c.x+a,5),95),c.y=Math.min(Math.max(c.y+r,5),95)})),{backgroundEmojis:e,peopleOnScreen:t}}function pt(e,t,n=5){const l=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return l<n&&o<n}const gt=()=>{},_t=()=>{},yt=()=>{};function bt(e,t,n){let l;const o=new Audio(he);o.preload="auto";let i=["ðŸŒ³","ðŸŒ²","ðŸŽ„","ðŸŒ´","â›©ï¸","ðŸ—¿","ðŸ—¼","ðŸŽ¡","â›²ï¸","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒµ","ðŸŒµ","ðŸ•ï¸","ðŸŒ¾"],a=["ðŸ ","ðŸ¡","ðŸ°","ðŸ›•","ðŸ©","ðŸ•","ðŸšï¸","ðŸ¢","ðŸ¬","ðŸ›ï¸","ðŸ¥","ðŸ’’","ðŸ¦","ðŸŸï¸","ðŸ«","ðŸ¯","ðŸ£","ðŸª","ðŸ¤","ðŸ ","ðŸŽª","ðŸ›–","ðŸ—ï¸","ðŸ˜ï¸","â›ªï¸","ðŸ¨","ðŸ­"],r=["ðŸ§â€â™‚ï¸","ðŸ’ƒ","ðŸ•º","ðŸ§œ","ðŸ§˜â€â™€ï¸","ðŸ§˜â€â™‚ï¸","ðŸ¤¾â€â™€ï¸","ðŸ¤¾â€â™‚ï¸","ðŸ‘¨â€ðŸ¦¼","ðŸ‘©â€ðŸ¦½â€âž¡ï¸","ðŸ‘©â€ðŸ¦¯â€âž¡ï¸","ðŸ‘¨â€ðŸ¦¯","â›¹ï¸â€â™€ï¸","â›¹ï¸â€â™‚ï¸","ðŸ§šâ€â™€ï¸","ðŸ§šâ€â™‚ï¸","ðŸ¤º","ðŸ¤¸â€â™€ï¸","ðŸ¤¸â€â™‚ï¸","ðŸŒï¸â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸª‚","ðŸ‡","ðŸ‹ï¸â€â™‚ï¸","ðŸ‹ï¸â€â™€ï¸","ðŸ‚","ðŸš´â€â™€ï¸","ðŸš´â€â™‚ï¸"],c={emoji:"ðŸ§",id:"",frisked:!1},s="",d="",h=!1,p=!1,w=[],y=[],S,A,E=!1;const W=["ðŸ—¡ï¸","âš”ï¸","ðŸ”ª","ðŸ¹","ðŸª“","ðŸªš","ðŸª„","ðŸ’£","ðŸ§¨","ðŸ”«"];let b=[],j={firstName:"",lastName:"",emoji:""},N=!0;const X=()=>window.innerWidth<=768?{size:38}:{size:48,fontSize:"5vw"};let g=!1;function x(){return new Promise((u,M)=>{if(console.log("Loading audio from:",he),g){u();return}o.oncanplaythrough=()=>{console.log("Audio loaded successfully"),g=!0,u()},o.onerror=_=>{console.error("Audio loading error:",_),console.log("Attempted audio path:",he),M(_)};try{o.load()}catch(_){console.warn("winSound.load() failed:",_),M(_)}})}function P(u=!1){const{size:M}=X(),_=M/2,Y=u?M/2:M,B=S||window.innerWidth,T=A||window.innerHeight,L=Math.max(B-_*2,M),O=Math.max(T-(_+Y),M);if(u){const J=Math.max(M,1),ae=Math.max(1,Math.floor(L/J)),ue=Math.max(1,Math.floor(O/J)),ie=Math.floor(Math.random()*ae),ce=Math.floor(Math.random()*ue);return{x:(_+ie*J)/B*100,y:(_+ce*J)/T*100}}return{x:(_+Math.random()*L)/B*100,y:(_+Math.random()*(O-_))/T*100}}function F(u,M=!1){let _=0;const Y=100;for(;_<Y;){const T=P(M);if(T.x<0||T.x>100||T.y<0||T.y>95){_++;continue}if(!u.some(J=>pt(T,J,M?5:10)))return T;_++}const B=P(M);return{x:Math.min(Math.max(B.x,5),95),y:Math.min(Math.max(B.y,5),95)}}function oe(){if(N)n(0,s="Bobbie"),n(1,d="Futon"),n(3,c={emoji:"ðŸ§â€â™€ï¸",id:Math.random().toString(36).substr(2,9),frisked:!1}),N=!1;else do{n(0,s=Me[Math.floor(Math.random()*Me.length)]),n(1,d=Se[Math.floor(Math.random()*Se.length)]);const u=r[Math.floor(Math.random()*r.length)];if(s!==j.firstName&&d!==j.lastName&&u!==j.emoji){n(3,c={emoji:u,id:Math.random().toString(36).substr(2,9),frisked:!1});break}}while(!0);n(5,w=[]),n(6,y=[])}function U(){if(!S||!A){const L=document.querySelector(".game-screen");L&&(S=L.clientWidth,A=L.clientHeight)}const u=[],_=[...r].filter(L=>L!==c.emoji).sort(()=>Math.random()-.5).slice(0,5).map(L=>{const O=F(u,!1);return u.push(O),{emoji:L,id:Math.random().toString(36).substr(2,9),x:O.x,y:O.y}}),Y=F(u,!1);n(3,c={...c,x:Y.x,y:Y.y}),n(6,y=[..._,c]),n(5,w=[...i,...a].map(L=>{const O=F(u,!0);return u.push(O),{emoji:L,x:O.x,y:O.y}}));const{backgroundEmojis:B,peopleOnScreen:T}=ht(w,y);n(5,w=B),n(6,y=T)}function Z(){const u=document.querySelector(".game-screen");u&&(S=u.clientWidth,A=u.clientHeight,h&&!p&&U())}et(()=>(oe(),window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}));async function v(){n(4,h=!0),n(2,p=!1),x().catch(u=>console.debug("Audio preload deferred or failed:",u)),(async()=>{const u=o.muted,M=typeof o.volume=="number"?o.volume:1;try{o.muted=!0;try{o.volume=0}catch{}await o.play(),o.pause(),o.currentTime=0,g=!0,console.debug("Audio decoded/unlocked via silent play/pause")}catch(_){console.debug("Audio decode/unlock failed:",_)}finally{try{o.volume=M}catch{}o.muted=u}})(),await ve(),setTimeout(()=>{Z(),n(7,E=!0)},50)}function C(){j={firstName:s,lastName:d,emoji:c.emoji},n(8,b=[]),oe(),n(3,c={...c,frisked:!1}),n(4,h=!1),n(2,p=!1),n(7,E=!1)}function D(u){u.id===c.id&&(n(2,p=!0),o.currentTime=0,o.play().catch(M=>console.error("Error playing sound:",M)))}async function _e(u){if(c&&c.frisked)return;const M=u.currentTarget,_=M.closest(".win-screen");if(!_)return;const Y=_.getBoundingClientRect(),B=M.getBoundingClientRect(),T=B.left+B.width/2-Y.left,L=B.top+B.height/2-Y.top,O=T/Y.width*100,J=L/Y.height*100,ae=Math.random()<.5?"left":"right",ue=W[Math.floor(Math.random()*W.length)],ie=Math.random().toString(36).substr(2,9),ce=B.width/Y.width*100*.5,Ie=Math.min(12,B.height/Y.height*100+2),Je={id:ie,emoji:ue,x:O,y:J,side:ae,settled:!1};n(8,b=[...b,Je]),n(3,c={...c,frisked:!0}),await ve();const qe=O+(ae==="right"?ce:-ce);n(8,b=b.map(Q=>Q.id===ie?{...Q,x:qe,y:J-Ie}:Q)),setTimeout(()=>{n(8,b=b.map(Q=>Q.id===ie?{...Q,y:J,settled:!0}:Q))},50)}const He=u=>D(u),Xe=u=>D(u),De=u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),_e(u))};return e.$$.update=()=>{e.$$.dirty[0]&7&&n(9,l=p?`Congratulations! You found ${s} ${d}!`:"")},[s,d,p,c,h,w,y,E,b,l,v,C,D,_e,He,Xe,De]}class kt extends ft{constructor(t){super(),ct(this,t,bt,dt,Qe,{},null,[-1,-1])}}new kt({target:document.getElementById("app")});
