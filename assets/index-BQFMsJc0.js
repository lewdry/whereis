var $e=Object.defineProperty;var et=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>et(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function he(){}function ze(e){return e()}function Pe(){return Object.create(null)}function ee(e){e.forEach(ze)}function He(e){return typeof e=="function"}function tt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function nt(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function J(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function j(e){return document.createTextNode(e)}function Y(){return j(" ")}function Xe(){return j("")}function U(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function we(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ot(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function I(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function $(e,t,n){e.classList.toggle(t,!!n)}let me;function de(e){me=e}function lt(){if(!me)throw new Error("Function called outside component initialization");return me}function it(e){lt().$$.on_mount.push(e)}const se=[],je=[];let ae=[];const Ae=[],De=Promise.resolve();let ke=!1;function Ie(){ke||(ke=!0,De.then(Je))}function Ee(){return Ie(),De}function Me(e){ae.push(e)}const ve=new Set;let ie=0;function Je(){if(ie!==0)return;const e=me;do{try{for(;ie<se.length;){const t=se[ie];ie++,de(t),st(t.$$)}}catch(t){throw se.length=0,ie=0,t}for(de(null),se.length=0,ie=0;je.length;)je.pop()();for(let t=0;t<ae.length;t+=1){const n=ae[t];ve.has(n)||(ve.add(n),n())}ae.length=0}while(se.length);for(;Ae.length;)Ae.pop()();ke=!1,ve.clear(),de(e)}function st(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Me)}}function rt(e){const t=[],n=[];ae.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),ae=t}const at=new Set;function qe(e,t){e&&e.i&&(at.delete(e),e.i(t))}function re(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ct(e,t){e.d(1),t.delete(e.key)}function ft(e,t,n,o,l,i,s,r,f,a,u,g){let h=e.length,w=i.length,y=h;const F={};for(;y--;)F[e[y].key]=y;const v=[],L=new Map,B=new Map,D=[];for(y=w;y--;){const _=g(l,i,y),P=n(_);let S=s.get(P);S?D.push(()=>S.p(_,t)):(S=a(P,_),S.c()),L.set(P,v[y]=S),P in F&&B.set(P,Math.abs(y-F[P]))}const M=new Set,A=new Set;function G(_){qe(_,1),_.m(r,u),s.set(_.key,_),u=_.first,w--}for(;h&&w;){const _=v[w-1],P=e[h-1],S=_.key,N=P.key;_===P?(u=_.first,h--,w--):L.has(N)?!s.has(S)||M.has(S)?G(_):A.has(N)?h--:B.get(S)>B.get(N)?(A.add(S),G(_)):(M.add(N),h--):(f(P,s),h--)}for(;h--;){const _=e[h];L.has(_.key)||f(_,s)}for(;w;)G(v[w-1]);return ee(D),v}function ut(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),Me(()=>{const i=e.$$.on_mount.map(ze).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...i):ee(i),e.$$.on_mount=[]}),l.forEach(Me)}function dt(e,t){const n=e.$$;n.fragment!==null&&(rt(n.after_update),ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(e,t){e.$$.dirty[0]===-1&&(se.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function mt(e,t,n,o,l,i,s=null,r=[-1]){const f=me;de(e);const a=e.$$={fragment:null,ctx:[],props:i,update:he,not_equal:l,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Pe(),dirty:r,skip_bound:!1,root:t.target||f.$$.root};s&&s(a.root);let u=!1;if(a.ctx=n?n(e,t.props||{},(g,h,...w)=>{const y=w.length?w[0]:h;return a.ctx&&l(a.ctx[g],a.ctx[g]=y)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](y),u&&ht(e,g)),h}):[],a.update(),u=!0,ee(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const g=ot(t.target);a.fragment&&a.fragment.l(g),g.forEach(J)}else a.fragment&&a.fragment.c();t.intro&&qe(e.$$.fragment),ut(e,t.target,t.anchor),Je()}de(f)}class pt{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){dt(this,1),this.$destroy=he}$on(t,n){if(!He(n))return he;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!nt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gt);const Ce=["Adrian","Aiden","Ainsley","Alex","Ali","Andy","Ang","Arden","Ari","Ashley","Avery","Axel","Basil","Bailey","Bellamy","Birch","Blake","Briar","Bradlee","Cameron","Casey","Cedar","Charlie","Devon","Drew","Eden","Ellis","Emerson","Emery","Finley","Franc","Gio","Gray","Harper","Hong","Indigo","Ira","Jesse","Jo","Jordaan","Jordan","Jules","Kai","Kendall","Lane","Leaf","Leith","Lennon","Logan","Luca","Mal","Marlow","Mo","Monroe","Morgan","Oakley","Ollie","Paris","Pat","Parker","Philly","Phoenix","Quinn","Reese","Remy","Rich","Ridley","Riley","River","Robin","Rocky","Rory","Sage","Sal","Sammy","Scout","Shannon","Sawyer","Skyler","Terry","Terri","Taylor","Tippy","Toby","Wei","Winter","Yara","Yan","Ying","Yuki","Yun","Zuri"],Be=["Affagato","Afterdinner","Badminton","Banquette","Bassoon","Beaverton","Beryl","Blancmange","Bouquet","Bracken","Bramble","Breeze","Broadbean","Caper","Cinder","Childsplay","Clover","Cobble","ConsommÃ©","Cookie","Croissant","Crossbow","Crispin","Cricket","DiamantÃ©","Drift","Elefantine","Ember","Fable","Fennel","Fingertip","Flounder","Flatbread","Foxglove","Foothold","Frost","Gable","Goldleaf","Gorgon","Greenhouse","Hearth","Hollow","Hotdog","Hopper","Juniper","Keyboard","Latch","Lantern","Legume","Marble","Meringue","Meadow","Moss","Paddle","Petal","Pine","President","Quill","Rook","Rowboat","Salmon","Sable","Sandal","Sneaker","Spatula","Stuffed-Crust","Sugar-Glider","Sweetdream","Thistle","Tobermory","Tinsel","Trolley","Trumpet","Trove","Turtle","Velour","Waffle","Willow","Wren","Whistle"],_t="/whereis/assets/win.mp3";function Ne(e,t,n){const o=e.slice();return o[39]=t[n],o}function Fe(e,t,n){const o=e.slice();return o[42]=t[n],o[44]=n,o}function Le(e,t,n){const o=e.slice();return o[45]=t[n],o}function Ge(e){let t,n,o,l,i,s,r,f,a,u,g,h,w,y,F=e[3].emoji+"",v,L,B,D,M,A,G,_,P,S,N;return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),i=p("h1"),s=p("span"),s.textContent="Where is",r=p("br"),f=p("span"),a=j(e[0]),u=Y(),g=j(e[1]),h=j("?"),w=Y(),y=p("div"),v=j(F),L=Y(),B=p("button"),B.textContent="Search",D=Y(),M=p("div"),A=p("div"),G=j("People Found: "),_=p("span"),P=j(e[9]),d(s,"class","highlight svelte-mh0195"),d(f,"class","name svelte-mh0195"),d(i,"class","svelte-mh0195"),d(l,"class","text-container svelte-mh0195"),d(y,"class","emoji svelte-mh0195"),d(B,"class","svelte-mh0195"),d(o,"class","splash-screen svelte-mh0195"),d(_,"class","score-number svelte-mh0195"),$(_,"score-pop",e[10]),d(A,"class","score-text svelte-mh0195"),d(M,"class","scorecard svelte-mh0195"),d(n,"class","game-wrapper svelte-mh0195"),d(t,"class","container svelte-mh0195")},m(x,W){q(x,t,W),c(t,n),c(n,o),c(o,l),c(l,i),c(i,s),c(i,r),c(i,f),c(f,a),c(f,u),c(f,g),c(i,h),c(o,w),c(o,y),c(y,v),c(o,L),c(o,B),c(n,D),c(n,M),c(M,A),c(A,G),c(A,_),c(_,P),S||(N=U(B,"click",e[13]),S=!0)},p(x,W){W[0]&1&&X(a,x[0]),W[0]&2&&X(g,x[1]),W[0]&8&&F!==(F=x[3].emoji+"")&&X(v,F),W[0]&512&&X(P,x[9]),W[0]&1024&&$(_,"score-pop",x[10])},d(x){x&&J(t),S=!1,N()}}}function We(e){let t,n,o,l,i,s,r,f,a,u,g,h=e[7]&&Te(e);return{c(){t=p("div"),n=p("div"),o=p("div"),h&&h.c(),l=Y(),i=p("div"),s=p("div"),r=j("People Found: "),f=p("span"),a=j(e[9]),d(o,"class","game-screen svelte-mh0195"),d(f,"class","score-number svelte-mh0195"),$(f,"score-pop",e[10]),d(s,"class","score-text svelte-mh0195"),d(i,"class","scorecard svelte-mh0195"),d(n,"class","game-wrapper svelte-mh0195"),d(t,"class","container svelte-mh0195")},m(w,y){q(w,t,y),c(t,n),c(n,o),h&&h.m(o,null),c(n,l),c(n,i),c(i,s),c(s,r),c(s,f),c(f,a),u||(g=[U(o,"touchmove",we(kt)),U(o,"touchstart",we(Mt)),U(o,"touchend",we(Pt))],u=!0)},p(w,y){w[7]?h?h.p(w,y):(h=Te(w),h.c(),h.m(o,null)):h&&(h.d(1),h=null),y[0]&512&&X(a,w[9]),y[0]&1024&&$(f,"score-pop",w[10])},d(w){w&&J(t),h&&h.d(),u=!1,ee(g)}}}function Te(e){let t,n,o=re(e[5]),l=[];for(let r=0;r<o.length;r+=1)l[r]=Oe(Le(e,o,r));let i=re(e[6]),s=[];for(let r=0;r<i.length;r+=1)s[r]=Ye(Fe(e,i,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=Y();for(let r=0;r<s.length;r+=1)s[r].c();n=Xe()},m(r,f){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,f);q(r,t,f);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,f);q(r,n,f)},p(r,f){if(f[0]&32){o=re(r[5]);let a;for(a=0;a<o.length;a+=1){const u=Le(r,o,a);l[a]?l[a].p(u,f):(l[a]=Oe(u),l[a].c(),l[a].m(t.parentNode,t))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}if(f[0]&34880){i=re(r[6]);let a;for(a=0;a<i.length;a+=1){const u=Fe(r,i,a);s[a]?s[a].p(u,f):(s[a]=Ye(u),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(r){r&&(J(t),J(n)),Se(l,r),Se(s,r)}}}function Oe(e){let t,n=e[45].emoji+"",o;return{c(){t=p("div"),o=j(n),d(t,"class","background-emoji svelte-mh0195"),I(t,"top",e[45].y+"%"),I(t,"left",e[45].x+"%"),d(t,"role","img"),d(t,"aria-hidden","true")},m(l,i){q(l,t,i),c(t,o)},p(l,i){i[0]&32&&n!==(n=l[45].emoji+"")&&X(o,n),i[0]&32&&I(t,"top",l[45].y+"%"),i[0]&32&&I(t,"left",l[45].x+"%")},d(l){l&&J(t)}}}function Ye(e){let t,n=e[42].emoji+"",o,l,i,s,r;function f(){return e[17](e[42])}function a(){return e[18](e[42])}return{c(){t=p("button"),o=j(n),l=Y(),d(t,"class","person-emoji svelte-mh0195"),I(t,"top",e[42].y+"%"),I(t,"left",e[42].x+"%"),d(t,"title",`Person ${e[44]+1}`),d(t,"aria-label",i=`Person ${e[44]+1}: ${e[42].emoji}`),$(t,"wrong-clicked",e[11].has(e[42].id))},m(u,g){q(u,t,g),c(t,o),c(t,l),s||(r=[U(t,"click",f),U(t,"pointerdown",we(a))],s=!0)},p(u,g){e=u,g[0]&64&&n!==(n=e[42].emoji+"")&&X(o,n),g[0]&64&&I(t,"top",e[42].y+"%"),g[0]&64&&I(t,"left",e[42].x+"%"),g[0]&64&&i!==(i=`Person ${e[44]+1}: ${e[42].emoji}`)&&d(t,"aria-label",i),g[0]&2112&&$(t,"wrong-clicked",e[11].has(e[42].id))},d(u){u&&J(t),s=!1,ee(r)}}}function xe(e){let t,n,o,l,i,s,r,f,a,u,g,h,w,y,F,v,L=e[3].emoji+"",B,D,M=[],A=new Map,G,_,P,S,N,x,W,Z,ce,K,ne,fe,oe,le=re(e[8]);const pe=b=>b[39].id;for(let b=0;b<le.length;b+=1){let E=Ne(e,le,b),Q=pe(E);A.set(Q,M[b]=Re(Q,E))}return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),i=p("h1"),s=p("span"),s.textContent="Congratulations!",r=p("br"),f=j("You found"),a=p("br"),u=p("span"),g=j(e[0]),h=Y(),w=j(e[1]),y=j("!"),F=Y(),v=p("div"),B=j(L),D=Y();for(let b=0;b<M.length;b+=1)M[b].c();G=Y(),_=p("div"),P=j(e[12]),S=Y(),N=p("button"),N.textContent="New Game",x=Y(),W=p("div"),Z=p("div"),ce=j("People Found: "),K=p("span"),ne=j(e[9]),d(s,"class","highlight svelte-mh0195"),d(u,"class","name svelte-mh0195"),d(i,"class","svelte-mh0195"),d(l,"class","text-container svelte-mh0195"),d(v,"class","emoji svelte-mh0195"),d(v,"role","button"),d(v,"tabindex","0"),d(v,"title","Tap to frisk"),d(_,"class","sr-only svelte-mh0195"),d(_,"aria-live","polite"),d(N,"class","new-game-btn svelte-mh0195"),d(o,"class","win-screen svelte-mh0195"),d(K,"class","score-number svelte-mh0195"),$(K,"score-pop",e[10]),d(Z,"class","score-text svelte-mh0195"),d(W,"class","scorecard svelte-mh0195"),d(n,"class","game-wrapper svelte-mh0195"),d(t,"class","container svelte-mh0195")},m(b,E){q(b,t,E),c(t,n),c(n,o),c(o,l),c(l,i),c(i,s),c(i,r),c(i,f),c(i,a),c(i,u),c(u,g),c(u,h),c(u,w),c(i,y),c(o,F),c(o,v),c(v,B),c(o,D);for(let Q=0;Q<M.length;Q+=1)M[Q]&&M[Q].m(o,null);c(o,G),c(o,_),c(_,P),c(o,S),c(o,N),c(n,x),c(n,W),c(W,Z),c(Z,ce),c(Z,K),c(K,ne),fe||(oe=[U(v,"click",e[16]),U(v,"keydown",e[19]),U(N,"click",e[14])],fe=!0)},p(b,E){E[0]&1&&X(g,b[0]),E[0]&2&&X(w,b[1]),E[0]&8&&L!==(L=b[3].emoji+"")&&X(B,L),E[0]&256&&(le=re(b[8]),M=ft(M,E,pe,1,b,le,A,o,ct,Re,G,Ne)),E[0]&4096&&X(P,b[12]),E[0]&512&&X(ne,b[9]),E[0]&1024&&$(K,"score-pop",b[10])},d(b){b&&J(t);for(let E=0;E<M.length;E+=1)M[E].d();fe=!1,ee(oe)}}}function Re(e,t){let n,o=t[39].emoji+"",l;return{key:e,first:null,c(){n=p("div"),l=j(o),d(n,"class","weapon-emoji svelte-mh0195"),I(n,"left",t[39].x+"%"),I(n,"top",t[39].y+"%"),d(n,"aria-hidden","true"),this.first=n},m(i,s){q(i,n,s),c(n,l)},p(i,s){t=i,s[0]&256&&o!==(o=t[39].emoji+"")&&X(l,o),s[0]&256&&I(n,"left",t[39].x+"%"),s[0]&256&&I(n,"top",t[39].y+"%")},d(i){i&&J(n)}}}function wt(e){let t,n,o,l=!e[4]&&Ge(e),i=e[4]&&!e[2]&&We(e),s=e[2]&&xe(e);return{c(){l&&l.c(),t=Y(),i&&i.c(),n=Y(),s&&s.c(),o=Xe()},m(r,f){l&&l.m(r,f),q(r,t,f),i&&i.m(r,f),q(r,n,f),s&&s.m(r,f),q(r,o,f)},p(r,f){r[4]?l&&(l.d(1),l=null):l?l.p(r,f):(l=Ge(r),l.c(),l.m(t.parentNode,t)),r[4]&&!r[2]?i?i.p(r,f):(i=We(r),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),r[2]?s?s.p(r,f):(s=xe(r),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i:he,o:he,d(r){r&&(J(t),J(n),J(o)),l&&l.d(r),i&&i.d(r),s&&s.d(r)}}}function yt(e){if(!e||e.length===0)return{minX:0,maxX:0,minY:0,maxY:0};const t=e.map(n=>({x:Number(n.x)||0,y:Number(n.y)||0}));return{minX:Math.min(...t.map(n=>n.x)),maxX:Math.max(...t.map(n=>n.x)),minY:Math.min(...t.map(n=>n.y)),maxY:Math.max(...t.map(n=>n.y))}}function bt(e,t){const n=[...e,...t],o=yt(n),l=100-(o.maxX-o.minX),i=100-(o.maxY-o.minY),s=l/4,r=i/4;return(l>10||i>10)&&(e.forEach(f=>{f.x=Math.min(Math.max(f.x+s,5),95),f.y=Math.min(Math.max(f.y+r,5),95)}),t.forEach(f=>{f.x=Math.min(Math.max(f.x+s,5),95),f.y=Math.min(Math.max(f.y+r,5),95)})),{backgroundEmojis:e,peopleOnScreen:t}}function vt(e,t,n=5){const o=Math.abs(e.x-t.x),l=Math.abs(e.y-t.y);return o<n&&l<n}const kt=()=>{},Mt=()=>{},Pt=()=>{};function St(e,t,n){let o,l,i=null,s,r=["ðŸŒ³","ðŸŒ²","ðŸŽ„","ðŸŒ´","â›©ï¸","ðŸ—¿","ðŸ—¼","ðŸŽ¡","â›²ï¸","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒµ","ðŸŒµ","ðŸ•ï¸","ðŸŒ¾"],f=["ðŸ ","ðŸ¡","ðŸ°","ðŸ›•","ðŸ©","ðŸ•","ðŸšï¸","ðŸ¢","ðŸ¬","ðŸ›ï¸","ðŸ¥","ðŸ’’","ðŸ¦","ðŸŸï¸","ðŸ«","ðŸ¯","ðŸ£","ðŸª","ðŸ¤","ðŸ ","ðŸŽª","ðŸ›–","ðŸ—ï¸","ðŸ˜ï¸","â›ªï¸","ðŸ¨","ðŸ­"],a=["ðŸ§â€â™‚ï¸","ðŸ’ƒ","ðŸ•º","ðŸ§œ","ðŸ§˜â€â™€ï¸","ðŸ§˜â€â™‚ï¸","ðŸ¤¾â€â™€ï¸","ðŸ¤¾â€â™‚ï¸","ðŸ‘¨â€ðŸ¦¼","ðŸ‘©â€ðŸ¦½â€âž¡ï¸","ðŸ‘©â€ðŸ¦¯â€âž¡ï¸","ðŸ‘¨â€ðŸ¦¯","â›¹ï¸â€â™€ï¸","â›¹ï¸â€â™‚ï¸","ðŸ§šâ€â™€ï¸","ðŸ§šâ€â™‚ï¸","ðŸ¤º","ðŸ¤¸â€â™€ï¸","ðŸ¤¸â€â™‚ï¸","ðŸŒï¸â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸª‚","ðŸ‡","ðŸ‹ï¸â€â™‚ï¸","ðŸ‹ï¸â€â™€ï¸","ðŸ‚","ðŸš´â€â™€ï¸","ðŸš´â€â™‚ï¸"],u={emoji:"ðŸ§",id:"",frisked:!1},g="",h="",w=!1,y=!1,F=[],v=[],L,B,D=!1;const M=["ðŸ—¡ï¸","âš”ï¸","ðŸ”ª","ðŸ¹","ðŸª“","ðŸªš","ðŸª„","ðŸ’£","ðŸ§¨","ðŸ”«"];let A=[],G={firstName:"",lastName:"",emoji:""},_=!0,P=0,S=!1,N=new Set;const x=()=>window.innerWidth<=768?{size:38}:{size:48,fontSize:"5vw"};let W=!1;async function Z(){if(!W){l||(l=new(window.AudioContext||window.webkitAudioContext));try{const C=await(await fetch(_t)).arrayBuffer();i=await l.decodeAudioData(C),s=l.createGain(),s.gain.value=1,W=!0}catch(m){throw console.error("Web Audio preload failed:",m),m}}}function ce(m=!1){const{size:C}=x(),k=C/2,H=m?C/2:C,T=L||window.innerWidth,R=B||window.innerHeight,O=Math.max(T-k*2,C),z=Math.max(R-(k+H),C);if(m){const V=Math.max(C,1),ge=Math.max(1,Math.floor(O/V)),ye=Math.max(1,Math.floor(z/V)),ue=Math.floor(Math.random()*ge),_e=Math.floor(Math.random()*ye);return{x:(k+ue*V)/T*100,y:(k+_e*V)/R*100}}return{x:(k+Math.random()*O)/T*100,y:(k+Math.random()*(z-k))/R*100}}function K(m,C=!1){let k=0;const H=100;for(;k<H;){const R=ce(C);if(R.x<0||R.x>100||R.y<0||R.y>95){k++;continue}if(!m.some(V=>vt(R,V,C?5:10)))return R;k++}const T=ce(C);return{x:Math.min(Math.max(T.x,5),95),y:Math.min(Math.max(T.y,5),95)}}function ne(){if(_)n(0,g="Bobbie"),n(1,h="Futon"),n(3,u={emoji:"ðŸ§â€â™€ï¸",id:Math.random().toString(36).substr(2,9),frisked:!1}),_=!1;else do{n(0,g=Ce[Math.floor(Math.random()*Ce.length)]),n(1,h=Be[Math.floor(Math.random()*Be.length)]);const m=a[Math.floor(Math.random()*a.length)];if(g!==G.firstName&&h!==G.lastName&&m!==G.emoji){n(3,u={emoji:m,id:Math.random().toString(36).substr(2,9),frisked:!1});break}}while(!0);n(5,F=[]),n(6,v=[])}function fe(){if(!L||!B){const O=document.querySelector(".game-screen");O&&(L=O.clientWidth,B=O.clientHeight)}const m=[],k=[...a].filter(O=>O!==u.emoji).sort(()=>Math.random()-.5).slice(0,5).map(O=>{const z=K(m,!1);return m.push(z),{emoji:O,id:Math.random().toString(36).substr(2,9),x:z.x,y:z.y}}),H=K(m,!1);n(3,u={...u,x:H.x,y:H.y}),n(6,v=[...k,u]),n(5,F=[...r,...f].map(O=>{const z=K(m,!0);return m.push(z),{emoji:O,x:z.x,y:z.y}}));const{backgroundEmojis:T,peopleOnScreen:R}=bt(F,v);n(5,F=T),n(6,v=R)}function oe(){const m=document.querySelector(".game-screen");m&&(L=m.clientWidth,B=m.clientHeight,w&&!y&&fe())}it(()=>(ne(),window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)}));async function le(){n(4,w=!0),n(2,y=!1),Z().catch(m=>console.debug("Audio preload deferred or failed:",m)),await Ee(),setTimeout(()=>{oe(),n(7,D=!0)},50)}function pe(){G={firstName:g,lastName:h,emoji:u.emoji},n(8,A=[]),n(11,N=new Set),ne(),n(3,u={...u,frisked:!1}),n(4,w=!1),n(2,y=!1),n(7,D=!1)}function b(m){m.id===u.id?(n(2,y=!0),n(9,P+=1),n(10,S=!0),setTimeout(()=>{n(10,S=!1)},800),(async()=>{try{l||(l=new(window.AudioContext||window.webkitAudioContext)),i||await Z(),l.state==="suspended"&&await l.resume();const k=l.createBufferSource();k.buffer=i,k.connect(s),s.connect(l.destination),s.gain.value=1,k.start(0)}catch(k){console.error("Error playing fanfare (Web Audio):",k)}})()):(N.add(m.id),n(11,N))}async function E(m){if(u&&u.frisked)return;const C=m.currentTarget,k=C.closest(".win-screen");if(!k)return;const H=k.getBoundingClientRect(),T=C.getBoundingClientRect(),R=T.left+T.width/2-H.left,O=T.top+T.height/2-H.top,z=R/H.width*100,V=O/H.height*100,ge=Math.random()<.5?"left":"right",ye=M[Math.floor(Math.random()*M.length)],ue=Math.random().toString(36).substr(2,9),_e=T.width/H.width*100*.5,Qe=Math.min(12,T.height/H.height*100+2),Ue={id:ue,emoji:ye,x:z,y:V,side:ge,settled:!1};n(8,A=[...A,Ue]),n(3,u={...u,frisked:!0}),await Ee();const Ze=z+(ge==="right"?_e:-_e);n(8,A=A.map(te=>te.id===ue?{...te,x:Ze,y:V-Qe}:te)),setTimeout(()=>{n(8,A=A.map(te=>te.id===ue?{...te,y:V,settled:!0}:te))},50)}const Q=m=>b(m),Ke=m=>b(m),Ve=m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),E(m))};return e.$$.update=()=>{e.$$.dirty[0]&7&&n(12,o=y?`Congratulations! You found ${g} ${h}!`:"")},[g,h,y,u,w,F,v,D,A,P,S,N,o,le,pe,b,E,Q,Ke,Ve]}class jt extends pt{constructor(t){super(),mt(this,t,St,wt,tt,{},null,[-1,-1])}}new jt({target:document.getElementById("app")});
