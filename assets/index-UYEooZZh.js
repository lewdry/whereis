var Ue=Object.defineProperty;var Ze=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>Ze(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function ue(){}function ze(e){return e()}function Pe(){return Object.create(null)}function Z(e){e.forEach(ze)}function He(e){return typeof e=="function"}function $e(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function et(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function J(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function Y(){return P(" ")}function Xe(){return P("")}function Q(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function ve(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function tt(e){return Array.from(e.childNodes)}function D(e,t){t=""+t,e.data!==t&&(e.data=t)}function I(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function re(e,t,n){e.classList.toggle(t,!!n)}let de;function fe(e){de=e}function nt(){if(!de)throw new Error("Function called outside component initialization");return de}function ot(e){nt().$$.on_mount.push(e)}const oe=[],je=[];let se=[];const Ee=[],De=Promise.resolve();let Me=!1;function Ie(){Me||(Me=!0,De.then(Je))}function Ae(){return Ie(),De}function ke(e){se.push(e)}const be=new Set;let ne=0;function Je(){if(ne!==0)return;const e=de;do{try{for(;ne<oe.length;){const t=oe[ne];ne++,fe(t),lt(t.$$)}}catch(t){throw oe.length=0,ne=0,t}for(fe(null),oe.length=0,ne=0;je.length;)je.pop()();for(let t=0;t<se.length;t+=1){const n=se[t];be.has(n)||(be.add(n),n())}se.length=0}while(oe.length);for(;Ee.length;)Ee.pop()();Me=!1,be.clear(),fe(e)}function lt(e){if(e.fragment!==null){e.update(),Z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ke)}}function st(e){const t=[],n=[];se.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),se=t}const rt=new Set;function qe(e,t){e&&e.i&&(rt.delete(e),e.i(t))}function le(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function it(e,t){e.d(1),t.delete(e.key)}function at(e,t,n,o,l,s,i,r,c,a,h,v){let m=e.length,_=s.length,y=m;const N={};for(;y--;)N[e[y].key]=y;const M=[],F=new Map,L=new Map,C=[];for(y=_;y--;){const g=v(l,s,y),S=n(g);let j=i.get(S);j?C.push(()=>j.p(g,t)):(j=a(S,g),j.c()),F.set(S,M[y]=j),S in N&&L.set(S,Math.abs(y-N[S]))}const k=new Set,R=new Set;function H(g){qe(g,1),g.m(r,h),i.set(g.key,g),h=g.first,_--}for(;m&&_;){const g=M[_-1],S=e[m-1],j=g.key,G=S.key;g===S?(h=g.first,m--,_--):F.has(G)?!i.has(j)||k.has(j)?H(g):R.has(G)?m--:L.get(j)>L.get(G)?(R.add(j),H(g)):(k.add(G),m--):(c(S,i),m--)}for(;m--;){const g=e[m];F.has(g.key)||c(g,i)}for(;_;)H(M[_-1]);return Z(C),M}function ct(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),ke(()=>{const s=e.$$.on_mount.map(ze).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...s):Z(s),e.$$.on_mount=[]}),l.forEach(ke)}function ft(e,t){const n=e.$$;n.fragment!==null&&(st(n.after_update),Z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ut(e,t){e.$$.dirty[0]===-1&&(oe.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function dt(e,t,n,o,l,s,i=null,r=[-1]){const c=de;fe(e);const a=e.$$={fragment:null,ctx:[],props:s,update:ue,not_equal:l,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Pe(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};i&&i(a.root);let h=!1;if(a.ctx=n?n(e,t.props||{},(v,m,..._)=>{const y=_.length?_[0]:m;return a.ctx&&l(a.ctx[v],a.ctx[v]=y)&&(!a.skip_bound&&a.bound[v]&&a.bound[v](y),h&&ut(e,v)),m}):[],a.update(),h=!0,Z(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const v=tt(t.target);a.fragment&&a.fragment.l(v),v.forEach(J)}else a.fragment&&a.fragment.c();t.intro&&qe(e.$$.fragment),ct(e,t.target,t.anchor),Je()}fe(c)}class mt{constructor(){ye(this,"$$");ye(this,"$$set")}$destroy(){ft(this,1),this.$destroy=ue}$on(t,n){if(!He(n))return ue;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ht="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ht);const Ce=["Adrian","Aiden","Ainsley","Alex","Ali","Andy","Ang","Arden","Ari","Ashley","Avery","Axel","Basil","Bailey","Bellamy","Birch","Blake","Briar","Bradlee","Cameron","Casey","Cedar","Charlie","Devon","Drew","Eden","Ellis","Emerson","Emery","Finley","Franc","Gio","Gray","Harper","Hong","Indigo","Ira","Jesse","Jo","Jordaan","Jordan","Jules","Kai","Kendall","Lane","Leaf","Leith","Lennon","Logan","Luca","Mal","Marlow","Mo","Monroe","Morgan","Oakley","Ollie","Paris","Pat","Parker","Philly","Phoenix","Quinn","Reese","Remy","Rich","Ridley","Riley","River","Robin","Rocky","Rory","Sage","Sal","Sammy","Scout","Shannon","Sawyer","Skyler","Terry","Terri","Taylor","Tippy","Toby","Wei","Winter","Yara","Yan","Ying","Yuki","Yun","Zuri"],Ne=["Affagato","Afterdinner","Badminton","Banquette","Bassoon","Beaverton","Beryl","Blancmange","Bouquet","Bracken","Bramble","Breeze","Broadbean","Caper","Cinder","Childsplay","Clover","Cobble","ConsommÃ©","Cookie","Croissant","Crossbow","Crispin","Cricket","DiamantÃ©","Drift","Elefantine","Ember","Fable","Fennel","Fingertip","Flounder","Flatbread","Foxglove","Foothold","Frost","Gable","Goldleaf","Gorgon","Greenhouse","Hearth","Hollow","Hotdog","Hopper","Juniper","Keyboard","Latch","Lantern","Legume","Marble","Meringue","Meadow","Moss","Paddle","Petal","Pine","President","Quill","Rook","Rowboat","Salmon","Sable","Sandal","Sneaker","Spatula","Stuffed-Crust","Sugar-Glider","Sweetdream","Thistle","Tobermory","Tinsel","Trolley","Trumpet","Trove","Turtle","Velour","Waffle","Willow","Wren","Whistle"],we="/whereis/assets/win.mp3";function Le(e,t,n){const o=e.slice();return o[36]=t[n],o}function Be(e,t,n){const o=e.slice();return o[39]=t[n],o[41]=n,o}function Fe(e,t,n){const o=e.slice();return o[42]=t[n],o}function Ge(e){let t,n,o,l,s,i,r,c,a,h,v,m,_,y,N=e[3].emoji+"",M,F,L,C,k,R,H,g,S,j,G;return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),s=p("h1"),i=p("span"),i.textContent="Where is",r=p("br"),c=p("span"),a=P(e[0]),h=Y(),v=P(e[1]),m=P("?"),_=Y(),y=p("div"),M=P(N),F=Y(),L=p("button"),L.textContent="Search",C=Y(),k=p("div"),R=p("div"),H=P("People Found: "),g=p("span"),S=P(e[9]),d(i,"class","highlight svelte-fv4rct"),d(c,"class","name svelte-fv4rct"),d(s,"class","svelte-fv4rct"),d(l,"class","text-container svelte-fv4rct"),d(y,"class","emoji svelte-fv4rct"),d(L,"class","svelte-fv4rct"),d(o,"class","splash-screen svelte-fv4rct"),d(g,"class","score-number svelte-fv4rct"),re(g,"score-pop",e[10]),d(R,"class","score-text svelte-fv4rct"),d(k,"class","scorecard svelte-fv4rct"),d(n,"class","game-wrapper svelte-fv4rct"),d(t,"class","container svelte-fv4rct")},m(T,B){q(T,t,B),f(t,n),f(n,o),f(o,l),f(l,s),f(s,i),f(s,r),f(s,c),f(c,a),f(c,h),f(c,v),f(s,m),f(o,_),f(o,y),f(y,M),f(o,F),f(o,L),f(n,C),f(n,k),f(k,R),f(R,H),f(R,g),f(g,S),j||(G=Q(L,"click",e[12]),j=!0)},p(T,B){B[0]&1&&D(a,T[0]),B[0]&2&&D(v,T[1]),B[0]&8&&N!==(N=T[3].emoji+"")&&D(M,N),B[0]&512&&D(S,T[9]),B[0]&1024&&re(g,"score-pop",T[10])},d(T){T&&J(t),j=!1,G()}}}function Te(e){let t,n,o,l,s,i,r,c,a,h,v,m=e[7]&&Oe(e);return{c(){t=p("div"),n=p("div"),o=p("div"),m&&m.c(),l=Y(),s=p("div"),i=p("div"),r=P("People Found: "),c=p("span"),a=P(e[9]),d(o,"class","game-screen svelte-fv4rct"),d(c,"class","score-number svelte-fv4rct"),re(c,"score-pop",e[10]),d(i,"class","score-text svelte-fv4rct"),d(s,"class","scorecard svelte-fv4rct"),d(n,"class","game-wrapper svelte-fv4rct"),d(t,"class","container svelte-fv4rct")},m(_,y){q(_,t,y),f(t,n),f(n,o),m&&m.m(o,null),f(n,l),f(n,s),f(s,i),f(i,r),f(i,c),f(c,a),h||(v=[Q(o,"touchmove",ve(yt)),Q(o,"touchstart",ve(bt)),Q(o,"touchend",ve(wt))],h=!0)},p(_,y){_[7]?m?m.p(_,y):(m=Oe(_),m.c(),m.m(o,null)):m&&(m.d(1),m=null),y[0]&512&&D(a,_[9]),y[0]&1024&&re(c,"score-pop",_[10])},d(_){_&&J(t),m&&m.d(),h=!1,Z(v)}}}function Oe(e){let t,n,o=le(e[5]),l=[];for(let r=0;r<o.length;r+=1)l[r]=We(Fe(e,o,r));let s=le(e[6]),i=[];for(let r=0;r<s.length;r+=1)i[r]=Ye(Be(e,s,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=Y();for(let r=0;r<i.length;r+=1)i[r].c();n=Xe()},m(r,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,c);q(r,t,c);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,c);q(r,n,c)},p(r,c){if(c[0]&32){o=le(r[5]);let a;for(a=0;a<o.length;a+=1){const h=Fe(r,o,a);l[a]?l[a].p(h,c):(l[a]=We(h),l[a].c(),l[a].m(t.parentNode,t))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}if(c[0]&16448){s=le(r[6]);let a;for(a=0;a<s.length;a+=1){const h=Be(r,s,a);i[a]?i[a].p(h,c):(i[a]=Ye(h),i[a].c(),i[a].m(n.parentNode,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}},d(r){r&&(J(t),J(n)),Se(l,r),Se(i,r)}}}function We(e){let t,n=e[42].emoji+"",o;return{c(){t=p("div"),o=P(n),d(t,"class","background-emoji svelte-fv4rct"),I(t,"top",e[42].y+"%"),I(t,"left",e[42].x+"%"),d(t,"role","img"),d(t,"aria-hidden","true")},m(l,s){q(l,t,s),f(t,o)},p(l,s){s[0]&32&&n!==(n=l[42].emoji+"")&&D(o,n),s[0]&32&&I(t,"top",l[42].y+"%"),s[0]&32&&I(t,"left",l[42].x+"%")},d(l){l&&J(t)}}}function Ye(e){let t,n=e[39].emoji+"",o,l,s,i,r;function c(){return e[16](e[39])}function a(){return e[17](e[39])}return{c(){t=p("button"),o=P(n),l=Y(),d(t,"class","person-emoji svelte-fv4rct"),I(t,"top",e[39].y+"%"),I(t,"left",e[39].x+"%"),d(t,"title",`Person ${e[41]+1}`),d(t,"aria-label",s=`Person ${e[41]+1}: ${e[39].emoji}`)},m(h,v){q(h,t,v),f(t,o),f(t,l),i||(r=[Q(t,"click",c),Q(t,"pointerdown",ve(a))],i=!0)},p(h,v){e=h,v[0]&64&&n!==(n=e[39].emoji+"")&&D(o,n),v[0]&64&&I(t,"top",e[39].y+"%"),v[0]&64&&I(t,"left",e[39].x+"%"),v[0]&64&&s!==(s=`Person ${e[41]+1}: ${e[39].emoji}`)&&d(t,"aria-label",s)},d(h){h&&J(t),i=!1,Z(r)}}}function Re(e){let t,n,o,l,s,i,r,c,a,h,v,m,_,y,N,M,F=e[3].emoji+"",L,C,k=[],R=new Map,H,g,S,j,G,T,B,U,me,K,ie,ae,te,$=le(e[8]);const he=b=>b[36].id;for(let b=0;b<$.length;b+=1){let A=Le(e,$,b),u=he(A);R.set(u,k[b]=xe(u,A))}return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),s=p("h1"),i=p("span"),i.textContent="Congratulations!",r=p("br"),c=P("You found"),a=p("br"),h=p("span"),v=P(e[0]),m=Y(),_=P(e[1]),y=P("!"),N=Y(),M=p("div"),L=P(F),C=Y();for(let b=0;b<k.length;b+=1)k[b].c();H=Y(),g=p("div"),S=P(e[11]),j=Y(),G=p("button"),G.textContent="New Game",T=Y(),B=p("div"),U=p("div"),me=P("People Found: "),K=p("span"),ie=P(e[9]),d(i,"class","highlight svelte-fv4rct"),d(h,"class","name svelte-fv4rct"),d(s,"class","svelte-fv4rct"),d(l,"class","text-container svelte-fv4rct"),d(M,"class","emoji svelte-fv4rct"),d(M,"role","button"),d(M,"tabindex","0"),d(M,"title","Tap to frisk"),d(g,"class","sr-only svelte-fv4rct"),d(g,"aria-live","polite"),d(G,"class","new-game-btn svelte-fv4rct"),d(o,"class","win-screen svelte-fv4rct"),d(K,"class","score-number svelte-fv4rct"),re(K,"score-pop",e[10]),d(U,"class","score-text svelte-fv4rct"),d(B,"class","scorecard svelte-fv4rct"),d(n,"class","game-wrapper svelte-fv4rct"),d(t,"class","container svelte-fv4rct")},m(b,A){q(b,t,A),f(t,n),f(n,o),f(o,l),f(l,s),f(s,i),f(s,r),f(s,c),f(s,a),f(s,h),f(h,v),f(h,m),f(h,_),f(s,y),f(o,N),f(o,M),f(M,L),f(o,C);for(let u=0;u<k.length;u+=1)k[u]&&k[u].m(o,null);f(o,H),f(o,g),f(g,S),f(o,j),f(o,G),f(n,T),f(n,B),f(B,U),f(U,me),f(U,K),f(K,ie),ae||(te=[Q(M,"click",e[15]),Q(M,"keydown",e[18]),Q(G,"click",e[13])],ae=!0)},p(b,A){A[0]&1&&D(v,b[0]),A[0]&2&&D(_,b[1]),A[0]&8&&F!==(F=b[3].emoji+"")&&D(L,F),A[0]&256&&($=le(b[8]),k=at(k,A,he,1,b,$,R,o,it,xe,H,Le)),A[0]&2048&&D(S,b[11]),A[0]&512&&D(ie,b[9]),A[0]&1024&&re(K,"score-pop",b[10])},d(b){b&&J(t);for(let A=0;A<k.length;A+=1)k[A].d();ae=!1,Z(te)}}}function xe(e,t){let n,o=t[36].emoji+"",l;return{key:e,first:null,c(){n=p("div"),l=P(o),d(n,"class","weapon-emoji svelte-fv4rct"),I(n,"left",t[36].x+"%"),I(n,"top",t[36].y+"%"),d(n,"aria-hidden","true"),this.first=n},m(s,i){q(s,n,i),f(n,l)},p(s,i){t=s,i[0]&256&&o!==(o=t[36].emoji+"")&&D(l,o),i[0]&256&&I(n,"left",t[36].x+"%"),i[0]&256&&I(n,"top",t[36].y+"%")},d(s){s&&J(n)}}}function pt(e){let t,n,o,l=!e[4]&&Ge(e),s=e[4]&&!e[2]&&Te(e),i=e[2]&&Re(e);return{c(){l&&l.c(),t=Y(),s&&s.c(),n=Y(),i&&i.c(),o=Xe()},m(r,c){l&&l.m(r,c),q(r,t,c),s&&s.m(r,c),q(r,n,c),i&&i.m(r,c),q(r,o,c)},p(r,c){r[4]?l&&(l.d(1),l=null):l?l.p(r,c):(l=Ge(r),l.c(),l.m(t.parentNode,t)),r[4]&&!r[2]?s?s.p(r,c):(s=Te(r),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),r[2]?i?i.p(r,c):(i=Re(r),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i:ue,o:ue,d(r){r&&(J(t),J(n),J(o)),l&&l.d(r),s&&s.d(r),i&&i.d(r)}}}function gt(e){if(!e||e.length===0)return{minX:0,maxX:0,minY:0,maxY:0};const t=e.map(n=>({x:Number(n.x)||0,y:Number(n.y)||0}));return{minX:Math.min(...t.map(n=>n.x)),maxX:Math.max(...t.map(n=>n.x)),minY:Math.min(...t.map(n=>n.y)),maxY:Math.max(...t.map(n=>n.y))}}function vt(e,t){const n=[...e,...t],o=gt(n),l=100-(o.maxX-o.minX),s=100-(o.maxY-o.minY),i=l/4,r=s/4;return(l>10||s>10)&&(e.forEach(c=>{c.x=Math.min(Math.max(c.x+i,5),95),c.y=Math.min(Math.max(c.y+r,5),95)}),t.forEach(c=>{c.x=Math.min(Math.max(c.x+i,5),95),c.y=Math.min(Math.max(c.y+r,5),95)})),{backgroundEmojis:e,peopleOnScreen:t}}function _t(e,t,n=5){const o=Math.abs(e.x-t.x),l=Math.abs(e.y-t.y);return o<n&&l<n}const yt=()=>{},bt=()=>{},wt=()=>{};function Mt(e,t,n){let o;const l=new Audio(we);l.preload="auto";let s=["ðŸŒ³","ðŸŒ²","ðŸŽ„","ðŸŒ´","â›©ï¸","ðŸ—¿","ðŸ—¼","ðŸŽ¡","â›²ï¸","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒ³","ðŸŒ²","ðŸŒ´","ðŸŒµ","ðŸŒµ","ðŸ•ï¸","ðŸŒ¾"],i=["ðŸ ","ðŸ¡","ðŸ°","ðŸ›•","ðŸ©","ðŸ•","ðŸšï¸","ðŸ¢","ðŸ¬","ðŸ›ï¸","ðŸ¥","ðŸ’’","ðŸ¦","ðŸŸï¸","ðŸ«","ðŸ¯","ðŸ£","ðŸª","ðŸ¤","ðŸ ","ðŸŽª","ðŸ›–","ðŸ—ï¸","ðŸ˜ï¸","â›ªï¸","ðŸ¨","ðŸ­"],r=["ðŸ§â€â™‚ï¸","ðŸ’ƒ","ðŸ•º","ðŸ§œ","ðŸ§˜â€â™€ï¸","ðŸ§˜â€â™‚ï¸","ðŸ¤¾â€â™€ï¸","ðŸ¤¾â€â™‚ï¸","ðŸ‘¨â€ðŸ¦¼","ðŸ‘©â€ðŸ¦½â€âž¡ï¸","ðŸ‘©â€ðŸ¦¯â€âž¡ï¸","ðŸ‘¨â€ðŸ¦¯","â›¹ï¸â€â™€ï¸","â›¹ï¸â€â™‚ï¸","ðŸ§šâ€â™€ï¸","ðŸ§šâ€â™‚ï¸","ðŸ¤º","ðŸ¤¸â€â™€ï¸","ðŸ¤¸â€â™‚ï¸","ðŸŒï¸â€â™‚ï¸","ðŸŒï¸â€â™€ï¸","ðŸª‚","ðŸ‡","ðŸ‹ï¸â€â™‚ï¸","ðŸ‹ï¸â€â™€ï¸","ðŸ‚","ðŸš´â€â™€ï¸","ðŸš´â€â™‚ï¸"],c={emoji:"ðŸ§",id:"",frisked:!1},a="",h="",v=!1,m=!1,_=[],y=[],N,M,F=!1;const L=["ðŸ—¡ï¸","âš”ï¸","ðŸ”ª","ðŸ¹","ðŸª“","ðŸªš","ðŸª„","ðŸ’£","ðŸ§¨","ðŸ”«"];let C=[],k={firstName:"",lastName:"",emoji:""},R=!0,H=0,g=!1;const S=()=>window.innerWidth<=768?{size:38}:{size:48,fontSize:"5vw"};let j=!1;function G(){return new Promise((u,E)=>{if(console.log("Loading audio from:",we),j){u();return}l.oncanplaythrough=()=>{console.log("Audio loaded successfully"),j=!0,u()},l.onerror=w=>{console.error("Audio loading error:",w),console.log("Attempted audio path:",we),E(w)};try{l.load()}catch(w){console.warn("winSound.load() failed:",w),E(w)}})}function T(u=!1){const{size:E}=S(),w=E/2,X=u?E/2:E,O=N||window.innerWidth,x=M||window.innerHeight,W=Math.max(O-w*2,E),z=Math.max(x-(w+X),E);if(u){const V=Math.max(E,1),pe=Math.max(1,Math.floor(W/V)),_e=Math.max(1,Math.floor(z/V)),ce=Math.floor(Math.random()*pe),ge=Math.floor(Math.random()*_e);return{x:(w+ce*V)/O*100,y:(w+ge*V)/x*100}}return{x:(w+Math.random()*W)/O*100,y:(w+Math.random()*(z-w))/x*100}}function B(u,E=!1){let w=0;const X=100;for(;w<X;){const x=T(E);if(x.x<0||x.x>100||x.y<0||x.y>95){w++;continue}if(!u.some(V=>_t(x,V,E?5:10)))return x;w++}const O=T(E);return{x:Math.min(Math.max(O.x,5),95),y:Math.min(Math.max(O.y,5),95)}}function U(){if(R)n(0,a="Bobbie"),n(1,h="Futon"),n(3,c={emoji:"ðŸ§â€â™€ï¸",id:Math.random().toString(36).substr(2,9),frisked:!1}),R=!1;else do{n(0,a=Ce[Math.floor(Math.random()*Ce.length)]),n(1,h=Ne[Math.floor(Math.random()*Ne.length)]);const u=r[Math.floor(Math.random()*r.length)];if(a!==k.firstName&&h!==k.lastName&&u!==k.emoji){n(3,c={emoji:u,id:Math.random().toString(36).substr(2,9),frisked:!1});break}}while(!0);n(5,_=[]),n(6,y=[])}function me(){if(!N||!M){const W=document.querySelector(".game-screen");W&&(N=W.clientWidth,M=W.clientHeight)}const u=[],w=[...r].filter(W=>W!==c.emoji).sort(()=>Math.random()-.5).slice(0,5).map(W=>{const z=B(u,!1);return u.push(z),{emoji:W,id:Math.random().toString(36).substr(2,9),x:z.x,y:z.y}}),X=B(u,!1);n(3,c={...c,x:X.x,y:X.y}),n(6,y=[...w,c]),n(5,_=[...s,...i].map(W=>{const z=B(u,!0);return u.push(z),{emoji:W,x:z.x,y:z.y}}));const{backgroundEmojis:O,peopleOnScreen:x}=vt(_,y);n(5,_=O),n(6,y=x)}function K(){const u=document.querySelector(".game-screen");u&&(N=u.clientWidth,M=u.clientHeight,v&&!m&&me())}ot(()=>(U(),window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K)}));async function ie(){n(4,v=!0),n(2,m=!1),G().catch(u=>console.debug("Audio preload deferred or failed:",u)),await Ae(),setTimeout(()=>{K(),n(7,F=!0)},50)}function ae(){k={firstName:a,lastName:h,emoji:c.emoji},n(8,C=[]),U(),n(3,c={...c,frisked:!1}),n(4,v=!1),n(2,m=!1),n(7,F=!1)}function te(u){u.id===c.id&&(n(2,m=!0),n(9,H+=1),n(10,g=!0),setTimeout(()=>{n(10,g=!1)},800),(async()=>{try{l.currentTime=0,l.muted=!1,typeof l.volume=="number"&&(l.volume=1),await l.play()}catch(w){console.error("Error playing fanfare:",w)}})())}async function $(u){if(c&&c.frisked)return;const E=u.currentTarget,w=E.closest(".win-screen");if(!w)return;const X=w.getBoundingClientRect(),O=E.getBoundingClientRect(),x=O.left+O.width/2-X.left,W=O.top+O.height/2-X.top,z=x/X.width*100,V=W/X.height*100,pe=Math.random()<.5?"left":"right",_e=L[Math.floor(Math.random()*L.length)],ce=Math.random().toString(36).substr(2,9),ge=O.width/X.width*100*.5,Ke=Math.min(12,O.height/X.height*100+2),Ve={id:ce,emoji:_e,x:z,y:V,side:pe,settled:!1};n(8,C=[...C,Ve]),n(3,c={...c,frisked:!0}),await Ae();const Qe=z+(pe==="right"?ge:-ge);n(8,C=C.map(ee=>ee.id===ce?{...ee,x:Qe,y:V-Ke}:ee)),setTimeout(()=>{n(8,C=C.map(ee=>ee.id===ce?{...ee,y:V,settled:!0}:ee))},50)}const he=u=>te(u),b=u=>te(u),A=u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),$(u))};return e.$$.update=()=>{e.$$.dirty[0]&7&&n(11,o=m?`Congratulations! You found ${a} ${h}!`:"")},[a,h,m,c,v,_,y,F,C,H,g,o,ie,ae,te,$,he,b,A]}class kt extends mt{constructor(t){super(),dt(this,t,Mt,pt,$e,{},null,[-1,-1])}}new kt({target:document.getElementById("app")});
