var Ze=Object.defineProperty;var $e=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>$e(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function me(){}function He(e){return e()}function Se(){return Object.create(null)}function te(e){e.forEach(He)}function Xe(e){return typeof e=="function"}function et(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function tt(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function J(e){e.parentNode&&e.parentNode.removeChild(e)}function je(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function W(){return S(" ")}function De(){return S("")}function U(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function ye(e){return function(t){return t.preventDefault(),e.call(this,t)}}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function nt(e){return Array.from(e.childNodes)}function D(e,t){t=""+t,e.data!==t&&(e.data=t)}function I(e,t,n,o){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function ee(e,t,n){e.classList.toggle(t,!!n)}let he;function de(e){he=e}function ot(){if(!he)throw new Error("Function called outside component initialization");return he}function lt(e){ot().$$.on_mount.push(e)}const se=[],Ee=[];let re=[];const Ae=[],Ie=Promise.resolve();let ke=!1;function Je(){ke||(ke=!0,Ie.then(qe))}function Ce(){return Je(),Ie}function Pe(e){re.push(e)}const ve=new Set;let le=0;function qe(){if(le!==0)return;const e=he;do{try{for(;le<se.length;){const t=se[le];le++,de(t),st(t.$$)}}catch(t){throw se.length=0,le=0,t}for(de(null),se.length=0,le=0;Ee.length;)Ee.pop()();for(let t=0;t<re.length;t+=1){const n=re[t];ve.has(n)||(ve.add(n),n())}re.length=0}while(se.length);for(;Ae.length;)Ae.pop()();ke=!1,ve.clear(),de(e)}function st(e){if(e.fragment!==null){e.update(),te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}function it(e){const t=[],n=[];re.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),re=t}const rt=new Set;function Ke(e,t){e&&e.i&&(rt.delete(e),e.i(t))}function ie(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function at(e,t){e.d(1),t.delete(e.key)}function ct(e,t,n,o,l,s,r,i,c,a,m,_){let d=e.length,y=s.length,b=d;const N={};for(;b--;)N[e[b].key]=b;const M=[],F=new Map,L=new Map,C=[];for(b=y;b--;){const g=_(l,s,b),P=n(g);let E=r.get(P);E?C.push(()=>E.p(g,t)):(E=a(P,g),E.c()),F.set(P,M[b]=E),P in N&&L.set(P,Math.abs(b-N[P]))}const k=new Set,Y=new Set;function H(g){Ke(g,1),g.m(i,m),r.set(g.key,g),m=g.first,y--}for(;d&&y;){const g=M[y-1],P=e[d-1],E=g.key,B=P.key;g===P?(m=g.first,d--,y--):F.has(B)?!r.has(E)||k.has(E)?H(g):Y.has(B)?d--:L.get(E)>L.get(B)?(Y.add(E),H(g)):(k.add(B),d--):(c(P,r),d--)}for(;d--;){const g=e[d];F.has(g.key)||c(g,r)}for(;y;)H(M[y-1]);return te(C),M}function ft(e,t,n){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),Pe(()=>{const s=e.$$.on_mount.map(He).filter(Xe);e.$$.on_destroy?e.$$.on_destroy.push(...s):te(s),e.$$.on_mount=[]}),l.forEach(Pe)}function ut(e,t){const n=e.$$;n.fragment!==null&&(it(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,t){e.$$.dirty[0]===-1&&(se.push(e),Je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function mt(e,t,n,o,l,s,r=null,i=[-1]){const c=he;de(e);const a=e.$$={fragment:null,ctx:[],props:s,update:me,not_equal:l,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Se(),dirty:i,skip_bound:!1,root:t.target||c.$$.root};r&&r(a.root);let m=!1;if(a.ctx=n?n(e,t.props||{},(_,d,...y)=>{const b=y.length?y[0]:d;return a.ctx&&l(a.ctx[_],a.ctx[_]=b)&&(!a.skip_bound&&a.bound[_]&&a.bound[_](b),m&&dt(e,_)),d}):[],a.update(),m=!0,te(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const _=nt(t.target);a.fragment&&a.fragment.l(_),_.forEach(J)}else a.fragment&&a.fragment.c();t.intro&&Ke(e.$$.fragment),ft(e,t.target,t.anchor),qe()}de(c)}class ht{constructor(){we(this,"$$");we(this,"$$set")}$destroy(){ut(this,1),this.$destroy=me}$on(t,n){if(!Xe(n))return me;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!tt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(pt);const Ne=["Adrian","Aiden","Ainsley","Alex","Ali","Andy","Ang","Arden","Ari","Ashley","Avery","Axel","Basil","Bailey","Bellamy","Birch","Blake","Briar","Bradlee","Cameron","Casey","Cedar","Charlie","Devon","Drew","Eden","Ellis","Emerson","Emery","Finley","Franc","Gio","Gray","Harper","Hong","Indigo","Ira","Jesse","Jo","Jordaan","Jordan","Jules","Kai","Kendall","Lane","Leaf","Leith","Lennon","Logan","Luca","Mal","Marlow","Mo","Monroe","Morgan","Oakley","Ollie","Paris","Pat","Parker","Philly","Phoenix","Quinn","Reese","Remy","Rich","Ridley","Riley","River","Robin","Rocky","Rory","Sage","Sal","Sammy","Scout","Shannon","Sawyer","Skyler","Terry","Terri","Taylor","Tippy","Toby","Wei","Winter","Yara","Yan","Ying","Yuki","Yun","Zuri"],Le=["Affagato","Afterdinner","Badminton","Banquette","Bassoon","Beaverton","Beryl","Blancmange","Bouquet","Bracken","Bramble","Breeze","Broadbean","Caper","Cinder","Childsplay","Clover","Cobble","Consommé","Cookie","Croissant","Crossbow","Crispin","Cricket","Diamanté","Drift","Elefantine","Ember","Fable","Fennel","Fingertip","Flounder","Flatbread","Foxglove","Foothold","Frost","Gable","Goldleaf","Gorgon","Greenhouse","Hearth","Hollow","Hotdog","Hopper","Juniper","Keyboard","Latch","Lantern","Legume","Marble","Meringue","Meadow","Moss","Paddle","Petal","Pine","President","Quill","Rook","Rowboat","Salmon","Sable","Sandal","Sneaker","Spatula","Stuffed-Crust","Sugar-Glider","Sweetdream","Thistle","Tobermory","Tinsel","Trolley","Trumpet","Trove","Turtle","Velour","Waffle","Willow","Wren","Whistle"],Me="/whereis/assets/win.mp3";function Be(e,t,n){const o=e.slice();return o[37]=t[n],o}function Fe(e,t,n){const o=e.slice();return o[40]=t[n],o[42]=n,o}function Ge(e,t,n){const o=e.slice();return o[43]=t[n],o}function Te(e){let t,n,o,l,s,r,i,c,a,m,_,d,y,b,N=e[3].emoji+"",M,F,L,C,k,Y,H,g,P,E,B;return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),s=p("h1"),r=p("span"),r.textContent="Where is",i=p("br"),c=p("span"),a=S(e[0]),m=W(),_=S(e[1]),d=S("?"),y=W(),b=p("div"),M=S(N),F=W(),L=p("button"),L.textContent="Search",C=W(),k=p("div"),Y=p("div"),H=S("People Found: "),g=p("span"),P=S(e[9]),u(r,"class","highlight svelte-mh0195"),u(c,"class","name svelte-mh0195"),u(s,"class","svelte-mh0195"),u(l,"class","text-container svelte-mh0195"),u(b,"class","emoji svelte-mh0195"),u(L,"class","svelte-mh0195"),u(o,"class","splash-screen svelte-mh0195"),u(g,"class","score-number svelte-mh0195"),ee(g,"score-pop",e[10]),u(Y,"class","score-text svelte-mh0195"),u(k,"class","scorecard svelte-mh0195"),u(n,"class","game-wrapper svelte-mh0195"),u(t,"class","container svelte-mh0195")},m(R,G){q(R,t,G),f(t,n),f(n,o),f(o,l),f(l,s),f(s,r),f(s,i),f(s,c),f(c,a),f(c,m),f(c,_),f(s,d),f(o,y),f(o,b),f(b,M),f(o,F),f(o,L),f(n,C),f(n,k),f(k,Y),f(Y,H),f(Y,g),f(g,P),E||(B=U(L,"click",e[13]),E=!0)},p(R,G){G[0]&1&&D(a,R[0]),G[0]&2&&D(_,R[1]),G[0]&8&&N!==(N=R[3].emoji+"")&&D(M,N),G[0]&512&&D(P,R[9]),G[0]&1024&&ee(g,"score-pop",R[10])},d(R){R&&J(t),E=!1,B()}}}function Oe(e){let t,n,o,l,s,r,i,c,a,m,_,d=e[7]&&We(e);return{c(){t=p("div"),n=p("div"),o=p("div"),d&&d.c(),l=W(),s=p("div"),r=p("div"),i=S("People Found: "),c=p("span"),a=S(e[9]),u(o,"class","game-screen svelte-mh0195"),u(c,"class","score-number svelte-mh0195"),ee(c,"score-pop",e[10]),u(r,"class","score-text svelte-mh0195"),u(s,"class","scorecard svelte-mh0195"),u(n,"class","game-wrapper svelte-mh0195"),u(t,"class","container svelte-mh0195")},m(y,b){q(y,t,b),f(t,n),f(n,o),d&&d.m(o,null),f(n,l),f(n,s),f(s,r),f(r,i),f(r,c),f(c,a),m||(_=[U(o,"touchmove",ye(wt)),U(o,"touchstart",ye(vt)),U(o,"touchend",ye(Mt))],m=!0)},p(y,b){y[7]?d?d.p(y,b):(d=We(y),d.c(),d.m(o,null)):d&&(d.d(1),d=null),b[0]&512&&D(a,y[9]),b[0]&1024&&ee(c,"score-pop",y[10])},d(y){y&&J(t),d&&d.d(),m=!1,te(_)}}}function We(e){let t,n,o=ie(e[5]),l=[];for(let i=0;i<o.length;i+=1)l[i]=Ye(Ge(e,o,i));let s=ie(e[6]),r=[];for(let i=0;i<s.length;i+=1)r[i]=Re(Fe(e,s,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=W();for(let i=0;i<r.length;i+=1)r[i].c();n=De()},m(i,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,c);q(i,t,c);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,c);q(i,n,c)},p(i,c){if(c[0]&32){o=ie(i[5]);let a;for(a=0;a<o.length;a+=1){const m=Ge(i,o,a);l[a]?l[a].p(m,c):(l[a]=Ye(m),l[a].c(),l[a].m(t.parentNode,t))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}if(c[0]&34880){s=ie(i[6]);let a;for(a=0;a<s.length;a+=1){const m=Fe(i,s,a);r[a]?r[a].p(m,c):(r[a]=Re(m),r[a].c(),r[a].m(n.parentNode,n))}for(;a<r.length;a+=1)r[a].d(1);r.length=s.length}},d(i){i&&(J(t),J(n)),je(l,i),je(r,i)}}}function Ye(e){let t,n=e[43].emoji+"",o;return{c(){t=p("div"),o=S(n),u(t,"class","background-emoji svelte-mh0195"),I(t,"top",e[43].y+"%"),I(t,"left",e[43].x+"%"),u(t,"role","img"),u(t,"aria-hidden","true")},m(l,s){q(l,t,s),f(t,o)},p(l,s){s[0]&32&&n!==(n=l[43].emoji+"")&&D(o,n),s[0]&32&&I(t,"top",l[43].y+"%"),s[0]&32&&I(t,"left",l[43].x+"%")},d(l){l&&J(t)}}}function Re(e){let t,n=e[40].emoji+"",o,l,s,r,i;function c(){return e[17](e[40])}function a(){return e[18](e[40])}return{c(){t=p("button"),o=S(n),l=W(),u(t,"class","person-emoji svelte-mh0195"),I(t,"top",e[40].y+"%"),I(t,"left",e[40].x+"%"),u(t,"title",`Person ${e[42]+1}`),u(t,"aria-label",s=`Person ${e[42]+1}: ${e[40].emoji}`),ee(t,"wrong-clicked",e[11].has(e[40].id))},m(m,_){q(m,t,_),f(t,o),f(t,l),r||(i=[U(t,"click",c),U(t,"pointerdown",ye(a))],r=!0)},p(m,_){e=m,_[0]&64&&n!==(n=e[40].emoji+"")&&D(o,n),_[0]&64&&I(t,"top",e[40].y+"%"),_[0]&64&&I(t,"left",e[40].x+"%"),_[0]&64&&s!==(s=`Person ${e[42]+1}: ${e[40].emoji}`)&&u(t,"aria-label",s),_[0]&2112&&ee(t,"wrong-clicked",e[11].has(e[40].id))},d(m){m&&J(t),r=!1,te(i)}}}function ze(e){let t,n,o,l,s,r,i,c,a,m,_,d,y,b,N,M,F=e[3].emoji+"",L,C,k=[],Y=new Map,H,g,P,E,B,R,G,V,ae,Z,ne,ce,pe,$=ie(e[8]);const fe=w=>w[37].id;for(let w=0;w<$.length;w+=1){let A=Be(e,$,w),Q=fe(A);Y.set(Q,k[w]=xe(Q,A))}return{c(){t=p("div"),n=p("div"),o=p("div"),l=p("div"),s=p("h1"),r=p("span"),r.textContent="Congratulations!",i=p("br"),c=S("You found"),a=p("br"),m=p("span"),_=S(e[0]),d=W(),y=S(e[1]),b=S("!"),N=W(),M=p("div"),L=S(F),C=W();for(let w=0;w<k.length;w+=1)k[w].c();H=W(),g=p("div"),P=S(e[12]),E=W(),B=p("button"),B.textContent="New Game",R=W(),G=p("div"),V=p("div"),ae=S("People Found: "),Z=p("span"),ne=S(e[9]),u(r,"class","highlight svelte-mh0195"),u(m,"class","name svelte-mh0195"),u(s,"class","svelte-mh0195"),u(l,"class","text-container svelte-mh0195"),u(M,"class","emoji svelte-mh0195"),u(M,"role","button"),u(M,"tabindex","0"),u(M,"title","Tap to frisk"),u(g,"class","sr-only svelte-mh0195"),u(g,"aria-live","polite"),u(B,"class","new-game-btn svelte-mh0195"),u(o,"class","win-screen svelte-mh0195"),u(Z,"class","score-number svelte-mh0195"),ee(Z,"score-pop",e[10]),u(V,"class","score-text svelte-mh0195"),u(G,"class","scorecard svelte-mh0195"),u(n,"class","game-wrapper svelte-mh0195"),u(t,"class","container svelte-mh0195")},m(w,A){q(w,t,A),f(t,n),f(n,o),f(o,l),f(l,s),f(s,r),f(s,i),f(s,c),f(s,a),f(s,m),f(m,_),f(m,d),f(m,y),f(s,b),f(o,N),f(o,M),f(M,L),f(o,C);for(let Q=0;Q<k.length;Q+=1)k[Q]&&k[Q].m(o,null);f(o,H),f(o,g),f(g,P),f(o,E),f(o,B),f(n,R),f(n,G),f(G,V),f(V,ae),f(V,Z),f(Z,ne),ce||(pe=[U(M,"click",e[16]),U(M,"keydown",e[19]),U(B,"click",e[14])],ce=!0)},p(w,A){A[0]&1&&D(_,w[0]),A[0]&2&&D(y,w[1]),A[0]&8&&F!==(F=w[3].emoji+"")&&D(L,F),A[0]&256&&($=ie(w[8]),k=ct(k,A,fe,1,w,$,Y,o,at,xe,H,Be)),A[0]&4096&&D(P,w[12]),A[0]&512&&D(ne,w[9]),A[0]&1024&&ee(Z,"score-pop",w[10])},d(w){w&&J(t);for(let A=0;A<k.length;A+=1)k[A].d();ce=!1,te(pe)}}}function xe(e,t){let n,o=t[37].emoji+"",l;return{key:e,first:null,c(){n=p("div"),l=S(o),u(n,"class","weapon-emoji svelte-mh0195"),I(n,"left",t[37].x+"%"),I(n,"top",t[37].y+"%"),u(n,"aria-hidden","true"),this.first=n},m(s,r){q(s,n,r),f(n,l)},p(s,r){t=s,r[0]&256&&o!==(o=t[37].emoji+"")&&D(l,o),r[0]&256&&I(n,"left",t[37].x+"%"),r[0]&256&&I(n,"top",t[37].y+"%")},d(s){s&&J(n)}}}function gt(e){let t,n,o,l=!e[4]&&Te(e),s=e[4]&&!e[2]&&Oe(e),r=e[2]&&ze(e);return{c(){l&&l.c(),t=W(),s&&s.c(),n=W(),r&&r.c(),o=De()},m(i,c){l&&l.m(i,c),q(i,t,c),s&&s.m(i,c),q(i,n,c),r&&r.m(i,c),q(i,o,c)},p(i,c){i[4]?l&&(l.d(1),l=null):l?l.p(i,c):(l=Te(i),l.c(),l.m(t.parentNode,t)),i[4]&&!i[2]?s?s.p(i,c):(s=Oe(i),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),i[2]?r?r.p(i,c):(r=ze(i),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},i:me,o:me,d(i){i&&(J(t),J(n),J(o)),l&&l.d(i),s&&s.d(i),r&&r.d(i)}}}function _t(e){if(!e||e.length===0)return{minX:0,maxX:0,minY:0,maxY:0};const t=e.map(n=>({x:Number(n.x)||0,y:Number(n.y)||0}));return{minX:Math.min(...t.map(n=>n.x)),maxX:Math.max(...t.map(n=>n.x)),minY:Math.min(...t.map(n=>n.y)),maxY:Math.max(...t.map(n=>n.y))}}function yt(e,t){const n=[...e,...t],o=_t(n),l=100-(o.maxX-o.minX),s=100-(o.maxY-o.minY),r=l/4,i=s/4;return(l>10||s>10)&&(e.forEach(c=>{c.x=Math.min(Math.max(c.x+r,5),95),c.y=Math.min(Math.max(c.y+i,5),95)}),t.forEach(c=>{c.x=Math.min(Math.max(c.x+r,5),95),c.y=Math.min(Math.max(c.y+i,5),95)})),{backgroundEmojis:e,peopleOnScreen:t}}function bt(e,t,n=5){const o=Math.abs(e.x-t.x),l=Math.abs(e.y-t.y);return o<n&&l<n}const wt=()=>{},vt=()=>{},Mt=()=>{};function kt(e,t,n){let o;const l=new Audio(Me);l.preload="auto";let s=["🌳","🌲","🎄","🌴","⛩️","🗿","🗼","🎡","⛲️","🌳","🌲","🌴","🌳","🌲","🌴","🌵","🌵","🏕️","🌾"],r=["🏠","🏡","🏰","🛕","🏩","🕍","🏚️","🏢","🏬","🏛️","🏥","💒","🏦","🏟️","🏫","🏯","🏣","🏪","🏤","🏠","🎪","🛖","🏗️","🏘️","⛪️","🏨","🏭"],i=["🧍‍♂️","💃","🕺","🧜","🧘‍♀️","🧘‍♂️","🤾‍♀️","🤾‍♂️","👨‍🦼","👩‍🦽‍➡️","👩‍🦯‍➡️","👨‍🦯","⛹️‍♀️","⛹️‍♂️","🧚‍♀️","🧚‍♂️","🤺","🤸‍♀️","🤸‍♂️","🏌️‍♂️","🏌️‍♀️","🪂","🏇","🏋️‍♂️","🏋️‍♀️","🏂","🚴‍♀️","🚴‍♂️"],c={emoji:"🧍",id:"",frisked:!1},a="",m="",_=!1,d=!1,y=[],b=[],N,M,F=!1;const L=["🗡️","⚔️","🔪","🏹","🪓","🪚","🪄","💣","🧨","🔫"];let C=[],k={firstName:"",lastName:"",emoji:""},Y=!0,H=0,g=!1,P=new Set;const E=()=>window.innerWidth<=768?{size:38}:{size:48,fontSize:"5vw"};let B=!1;function R(){return new Promise((h,j)=>{if(console.log("Loading audio from:",Me),B){h();return}l.oncanplaythrough=()=>{console.log("Audio loaded successfully"),B=!0,h()},l.onerror=v=>{console.error("Audio loading error:",v),console.log("Attempted audio path:",Me),j(v)};try{l.load()}catch(v){console.warn("winSound.load() failed:",v),j(v)}})}function G(h=!1){const{size:j}=E(),v=j/2,X=h?j/2:j,T=N||window.innerWidth,z=M||window.innerHeight,O=Math.max(T-v*2,j),x=Math.max(z-(v+X),j);if(h){const K=Math.max(j,1),ge=Math.max(1,Math.floor(O/K)),be=Math.max(1,Math.floor(x/K)),ue=Math.floor(Math.random()*ge),_e=Math.floor(Math.random()*be);return{x:(v+ue*K)/T*100,y:(v+_e*K)/z*100}}return{x:(v+Math.random()*O)/T*100,y:(v+Math.random()*(x-v))/z*100}}function V(h,j=!1){let v=0;const X=100;for(;v<X;){const z=G(j);if(z.x<0||z.x>100||z.y<0||z.y>95){v++;continue}if(!h.some(K=>bt(z,K,j?5:10)))return z;v++}const T=G(j);return{x:Math.min(Math.max(T.x,5),95),y:Math.min(Math.max(T.y,5),95)}}function ae(){if(Y)n(0,a="Bobbie"),n(1,m="Futon"),n(3,c={emoji:"🧍‍♀️",id:Math.random().toString(36).substr(2,9),frisked:!1}),Y=!1;else do{n(0,a=Ne[Math.floor(Math.random()*Ne.length)]),n(1,m=Le[Math.floor(Math.random()*Le.length)]);const h=i[Math.floor(Math.random()*i.length)];if(a!==k.firstName&&m!==k.lastName&&h!==k.emoji){n(3,c={emoji:h,id:Math.random().toString(36).substr(2,9),frisked:!1});break}}while(!0);n(5,y=[]),n(6,b=[])}function Z(){if(!N||!M){const O=document.querySelector(".game-screen");O&&(N=O.clientWidth,M=O.clientHeight)}const h=[],v=[...i].filter(O=>O!==c.emoji).sort(()=>Math.random()-.5).slice(0,5).map(O=>{const x=V(h,!1);return h.push(x),{emoji:O,id:Math.random().toString(36).substr(2,9),x:x.x,y:x.y}}),X=V(h,!1);n(3,c={...c,x:X.x,y:X.y}),n(6,b=[...v,c]),n(5,y=[...s,...r].map(O=>{const x=V(h,!0);return h.push(x),{emoji:O,x:x.x,y:x.y}}));const{backgroundEmojis:T,peopleOnScreen:z}=yt(y,b);n(5,y=T),n(6,b=z)}function ne(){const h=document.querySelector(".game-screen");h&&(N=h.clientWidth,M=h.clientHeight,_&&!d&&Z())}lt(()=>(ae(),window.addEventListener("resize",ne),()=>{window.removeEventListener("resize",ne)}));async function ce(){n(4,_=!0),n(2,d=!1),R().catch(h=>console.debug("Audio preload deferred or failed:",h)),await Ce(),setTimeout(()=>{ne(),n(7,F=!0)},50)}function pe(){k={firstName:a,lastName:m,emoji:c.emoji},n(8,C=[]),n(11,P=new Set),ae(),n(3,c={...c,frisked:!1}),n(4,_=!1),n(2,d=!1),n(7,F=!1)}function $(h){h.id===c.id?(n(2,d=!0),n(9,H+=1),n(10,g=!0),setTimeout(()=>{n(10,g=!1)},800),(async()=>{try{l.currentTime=0,l.muted=!1,typeof l.volume=="number"&&(l.volume=1),await l.play()}catch(v){console.error("Error playing fanfare:",v)}})()):(P.add(h.id),n(11,P))}async function fe(h){if(c&&c.frisked)return;const j=h.currentTarget,v=j.closest(".win-screen");if(!v)return;const X=v.getBoundingClientRect(),T=j.getBoundingClientRect(),z=T.left+T.width/2-X.left,O=T.top+T.height/2-X.top,x=z/X.width*100,K=O/X.height*100,ge=Math.random()<.5?"left":"right",be=L[Math.floor(Math.random()*L.length)],ue=Math.random().toString(36).substr(2,9),_e=T.width/X.width*100*.5,Ve=Math.min(12,T.height/X.height*100+2),Qe={id:ue,emoji:be,x,y:K,side:ge,settled:!1};n(8,C=[...C,Qe]),n(3,c={...c,frisked:!0}),await Ce();const Ue=x+(ge==="right"?_e:-_e);n(8,C=C.map(oe=>oe.id===ue?{...oe,x:Ue,y:K-Ve}:oe)),setTimeout(()=>{n(8,C=C.map(oe=>oe.id===ue?{...oe,y:K,settled:!0}:oe))},50)}const w=h=>$(h),A=h=>$(h),Q=h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),fe(h))};return e.$$.update=()=>{e.$$.dirty[0]&7&&n(12,o=d?`Congratulations! You found ${a} ${m}!`:"")},[a,m,d,c,_,y,b,F,C,H,g,P,o,ce,pe,$,fe,w,A,Q]}class Pt extends ht{constructor(t){super(),mt(this,t,kt,gt,et,{},null,[-1,-1])}}new Pt({target:document.getElementById("app")});
